<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Tooplate">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i&display=swap" rel="stylesheet">

    <title>Event Details</title>


    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" type="text/css" href="assets/css/owl-carousel.css">

    <link rel="stylesheet" href="assets/css/tooplate-artxibition.css">

    <link rel="stylesheet" href="style.css">

<!--

Tooplate 2125 ArtXibition

https://www.tooplate.com/view/2125-artxibition

-->
</head>
    
<body>
    
    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="index.html" class="logo">CleanUp<em>Connect</em></a>
                        <!-- ***** Logo End ***** -->
                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li><a href="index.html" class="active">Home</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="profile.html">My Profile</a></li>
                            <li><a href="event-details.html">Events</a></li> 
                            <li><a href="businessess.html">Sponsorships & Business</a></li> 
                        </ul>        
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <div class="rent-venue-tabs">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" id="tabs">
                        <div class="col-lg-12">
                            <section class='tabs-content'>
                                <article id='tabs-1'>
                                    <div class="row">
                                        <div class="col-lg-9">
                                            <div class="right-content" id="event-details" style="width: 1000px;">
                                                <h4 id="event-name">Rotary Club CleanUp Event Pune</h4>
                                                <p id="event-desc">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                                                </p>
                                                <ul class="list">
                                                    <li id="event-loc">Akurdi, PCMC</li>
                                                    <li id="event-date">12 February 2003</li>
                                                    <li id="event-time">7 am</li>
                                                </ul>
                                                <!-- <div class="RSVP button" >
                                                    <button id="rsvp-button">RSVP</a>
                                                </div> -->
                                            </div>
                                            
                                        </div>
                                        <div class="col-lg-3">
                                            <div id="map">
                                                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7405.690436500271!2d-43.289281240686606!3d-23.00173786750551!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9bd6d13e950037%3A0x2c49dc1b12837f3f!2sPedra%20da%20G%C3%A1vea!5e1!3m2!1sen!2sth!4v1630941277488!5m2!1sen!2sth" width="100%" height="240px" frameborder="0" style="border:0"  allowfullscreen="" loading="lazy"></iframe>
                                            <div class="text-button">
                                                <a href="ticket-details.html">Need Direction? <i class="fa fa-arrow-right"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </article>                            
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center">
                    <a class="btn btn-primary" style="background-color: black; color: white;" id="rsvp-button">RSVP</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add space above the footer with black background and white text -->
    <div class="mt-5">
        <!-- Add any additional content or leave it empty -->
    </div>

    <!-- Site footer -->
<footer class="site-footer" style="background-color: #333;">
    <div class="containersss">
      <div class="row">
        <div class="col-sm-12 col-md-6" style="padding-left: 50px;">
          <h6>About</h6>
          <p class="text-justify">Welcome to CleanConnect, where passion meets purpose in our journey towards a cleaner, greener tomorrow. United by a shared vision of environmental stewardship, we're on a mission to inspire and empower individuals worldwide to take meaningful action for our planet. Through collaborative initiatives, innovative projects, and community engagement, we're driving positive change one step at a time. Join us in creating a world where sustainability isn't just a goal; it's a way of life. Together, let's make a difference and leave a lasting legacy for future generations.
  
          </p>
        </div>
  
        <div class="col-xs-6 col-md-3" style="padding-left: 150px;">
          <h6>Categories</h6>
          <ul class="footer-links">
            <li><a href="http://scanfcode.com/category/c-language/">workshops</a></li>
            <li><a href="http://scanfcode.com/category/front-end-development/">Cleanup Drives</a></li>
            <li><a href="http://scanfcode.com/category/back-end-development/">Gatherings</a></li>
            <li><a href="http://scanfcode.com/category/java-programming-language/">Communities</a></li>
          </ul>
        </div>
  
        <div class="col-xs-6 col-md-3">
          <h6>Quick Links</h6>
          <ul class="footer-links">
            <li><a href="#home">Home</a></li>
            <li><a href="#event_display">Events</a></li>
            <li><a href="#aboutus">About Us</a></li>
            <li><a href="#Contact us">Contact Us</a></li> 
          </ul>
        </div>
      </div>
      <hr>
    </div>
    <div class="containersss" >
      <div class="row">
        <div class="col-md-8 col-sm-6 col-xs-12">
          <p class="copyright-text" >Copyright &copy; 2024 All Rights Reserved by 
       <a href="#">Cleanup Connect</a>.
          </p>
        </div>
  
        <div class="col-md-4 col-sm-6 col-xs-12">
          <ul class="social-icons">
            <li><a class="facebook" href="#"><i class="fa fa-facebook"></i></a></li>
            <li><a class="twitter" href="#"><i class="fa fa-twitter"></i></a></li>
            <li><a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a></li>
            <li><a class="linkedin" href="#"><i class="fa fa-linkedin"></i></a></li>   
          </ul>
        </div>
      </div>
    </div>
  </footer>

    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script> 
    <script src="assets/js/mixitup.js"></script> 
    <script src="assets/js/accordions.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    
    <!-- Global Init -->
    <!-- <script src="assets/js/custom.js"></script> -->

  </body>

  <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-auth-compat.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9-1/crypto-js.js"></script>

  <script type="module">

      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
      import { getFirestore, collection, getDocs, query, where } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";
      import { doc, getDoc , addDoc } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";
    
      const firebaseConfig = {
        apiKey: "AIzaSyA1NgEx9i0gCwGvA97ouWZWQBkwuiAsrm0",
        authDomain: "cleanup-connect-ebaae.firebaseapp.com",
        databaseURL: "https://cleanup-connect-ebaae-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "cleanup-connect-ebaae",
        storageBucket: "cleanup-connect-ebaae.appspot.com",
        messagingSenderId: "206124027034",
        appId: "1:206124027034:web:423e5574fce9877e562323"
        };
       
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        const rsvpButton = document.getElementById("rsvp-button");

    rsvpButton.addEventListener("click", function() {
      event.preventDefault(); 
        console.log(12121);
        const urlParams = new URLSearchParams(window.location.search);
        const eventId = urlParams.get('id');

        const userEmail = localStorage.getItem('userEmail');
        const eventDocRef = db.collection("Events").doc(eventId);
        
        eventDocRef.update({
          participants: firebase.firestore.FieldValue.arrayUnion(userEmail)
        })
        .then(() => {
            console.log("User RSVPed for event:", eventId);
        })
        .catch((error) => {
            console.error("Error RSVPing for event:", error);
        });

        const userDocRef = db.collection("Users").doc(userEmail);
        
        userDocRef.update({
          registered_events: firebase.firestore.FieldValue.arrayUnion(eventId)
        })
        .then(() => {
            alert("data stored!!");
        })
        .catch((error) => {
            console.error("Error RSVPing for event:", error);
        });

        console.log("RSVP clicked for event:", eventId);
    });

        document.addEventListener("DOMContentLoaded", function() {
        // Initialize Firebase

        
        // eventId="t1";
        console.log(eventId);

        
 
        // Get the event ID from the URL
        
        console.log(eventId);

        const userEmail = localStorage.getItem('userEmail');
   
        // Reference to the event document
        const eventRef = db.collection("Events").doc(eventId);
        const userRef = db.collection("Events").doc(userEmail);
     
        // Get the event details
        eventRef.get().then((doc) => {
          if (doc.exists) {
            const eventData = doc.data();
            console.log(eventData);

            // console.log(eventData.businessName,eventData.businessName);

            document.getElementById("event-name").innerText = eventData.eventTitle;
            document.getElementById("event-desc").innerText = eventData.eventDescription;
            document.getElementById("event-loc").innerText = eventData.eventLocation;
            document.getElementById("event-date").innerText = eventData.eventDate;
            document.getElementById("event-time").innerText = eventData.eventTime;
          } else {
            // Doc doesn't exist
            console.log("No such document!");
          }
        }).catch((error) => {
          console.log("Error getting document:", error);
        });
    });
</script>


</html>
